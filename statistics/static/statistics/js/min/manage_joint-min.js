function requestData(t,e,n){$.ajax({url:data_url,data:"data_type="+t+"&offset="+e+"&count="+n,success:function(e){"point"===t?("undefined"!=typeof e.datapoints[0].pk&&(latest_point_pk=e.datapoints[0].pk),total_point=e.totaldata,offset_point+=n,"undefined"!=typeof e.datapoints[0].committee_by&&e.datapoints.forEach(function(t){createPoint(t.pk,t.last_changed,t.committee_by,t.active_debate,t.round_no,t.point_type,t.subtopics,t.committee_color,t.committee_text_color)})):"content"===t?("undefined"!=typeof e.datapoints[0].pk&&(latest_content_pk=e.datapoints[0].pk),total_content=e.totaldata,offset_content+=n,"undefined"!=typeof e.datapoints[0].content&&e.datapoints.forEach(function(t){createContent(t.pk,t.last_changed,t.committee_by,t.active_debate,t.content,t.point_type,t.committee_color,t.committee_text_color)})):"vote"===t&&("undefined"!=typeof e.datapoints[0].pk&&(latest_vote_pk=e.datapoints[0].pk),total_vote=e.totaldata,offset_vote+=n,"undefined"!=typeof e.datapoints[0].committee_by&&e.datapoints.forEach(function(t){createVote(t.pk,t.last_changed,t.committee_by,t.active_debate,t.in_favour,t.against,t.abstentions,t.absent,t.committee_color,t.committee_text_color)}))},cache:!1})}function createPoint(t,e,n,a,i,o,s,l,r){var c=document.getElementById("point-table").getElementsByTagName("tbody")[0],d=c.insertRow(0),p=d.insertCell(0),_=d.insertCell(1),m=d.insertCell(2),f=d.insertCell(3),b=d.insertCell(4),g=d.insertCell(5),v=d.insertCell(6),u=d.insertCell(7);$(d).attr("id","point-"+t),$(d).css("display","none"),p.innerHTML=t,_.innerHTML=e,m.innerHTML=n,f.innerHTML=a,b.innerHTML=i,"P"===o?g.innerHTML='<img src="'+point_img+'" height="30" >':g.innerHTML='<img src="'+dr_img+'" height="30" >',v.innerHTML=s,u.innerHTML='<a href="javascript:void(0)" class="btn btn-xs btn-material-'+session_color+'-800 btn-fab btn-raised mdi-content-create" data-toggle="modal" data-target="#edit-point" onclick="editPoint(\''+t+'\')" ></a><a href="javascript:void(0)" class="btn btn-danger btn-fab btn-raised mdi-action-delete" onclick="" ></a>',$(m).addClass("label-material-"+l+"-400"),$(m).css("color",r),$(d).fadeIn("slow")}function createContent(t,e,n,a,i,o,s,l){var r=document.getElementById("content-table").getElementsByTagName("tbody")[0],c=r.insertRow(0),d=c.insertCell(0),p=c.insertCell(1),_=c.insertCell(2),m=c.insertCell(3),f=c.insertCell(4),b=c.insertCell(5),g=c.insertCell(6);$(c).attr("id","content-"+t),$(c).css("display","none"),d.innerHTML=t,p.innerHTML=e,_.innerHTML=n,m.innerHTML=a,f.innerHTML=i,"P"===o?b.innerHTML='<img src="'+point_img+'" height="30" >':b.innerHTML='<img src="'+dr_img+'" height="30" >',g.innerHTML='<a href="javascript:void(0)" class="btn btn-xs btn-material-'+session_color+'-800 btn-fab btn-raised mdi-content-create" data-toggle="modal" data-target="#edit-content" onclick="editContent(\''+t+'\')" ></a><a href="javascript:void(0)" class="btn btn-danger btn-fab btn-raised mdi-action-delete" onclick="" ></a>',$(_).addClass("label-material-"+s+"-400"),$(_).css("color",l),$(c).fadeIn("slow")}function createVote(t,e,n,a,i,o,s,l,r,c){var d=document.getElementById("vote-table").getElementsByTagName("tbody")[0],p=d.insertRow(0),_=p.insertCell(0),m=p.insertCell(1),f=p.insertCell(2),b=p.insertCell(3),g=p.insertCell(4),v=p.insertCell(5),u=p.insertCell(6),y=p.insertCell(7);vote_action=p.insertCell(8),$(p).attr("id","vote-"+t),$(p).css("display","none"),_.innerHTML=t,m.innerHTML=e,f.innerHTML=n,b.innerHTML=a,g.innerHTML=i,v.innerHTML=o,u.innerHTML=s,y.innerHTML=l,vote_action.innerHTML='<a href="javascript:void(0)" class="btn btn-xs btn-material-'+session_color+'-800 btn-fab btn-raised mdi-content-create" data-toggle="modal" data-target="#edit-vote" onclick="editVote(\''+t+'\')" ></a><a href="javascript:void(0)" class="btn btn-danger btn-fab btn-raised mdi-action-delete" onclick="" ></a>',$(f).addClass("label-material-"+r+"-400"),$(f).css("color",c),$(p).fadeIn("slow")}function editPoint(t){$.ajax({url:data_pk_url,data:"data_type=point&pk="+t,success:function(t){},cache:!1})}function getTotal(){var t=$("#id_in_favour"),e=$("#id_against"),n=$("#id_abstentions"),a=$("#id_absent");total=parseInt(t.val())+parseInt(e.val())+parseInt(n.val())+parseInt(a.val()),$("#vote-total").html(total)}var offset_point=0,offset_content=0,total_point,total_content,total_points_displayed=0,total_content_displayed=0,latest_point_pk=0,latest_content_pk=0,offset_vote=0,total_vote,total_votes_displayed=0,latest_vote_pk=0;$("input").keyup(getTotal),$(document).ready(getTotal),requestData("point",0,10),requestData("content",0,10),requestData("vote",0,10);